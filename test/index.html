<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <title>数据看板</title>
    <style>
        .container {
            padding: 20px;
        }

        .card {
            padding: 20px;
            border-radius: 8px;
            background: #f5f5f5;
            margin: 10px 0;
        }

        .nav a {
            margin-right: 16px;
            color: #165DFF;
            text-decoration: none;
        }
    </style>
</head>

<body>
    <div class="nav">
        <a href="index.html">仪表盘</a>
        <a href="user.html">用户管理</a>
    </div>
    <div id="app"></div>

    <!-- 引入修复后的核心库 -->
    <script src="./mini-solid-vue.js"></script>
    <script>
        const { defineComponent, renderComponent, createSignal, utils } = MiniSolidVue;
        const { toast } = utils;

        // 定义业务组件
        defineComponent('Dashboard', {
            setup() {
                // 响应式计数信号
                const [getCount, setCount] = createSignal(1288);
                // 点击事件：更新信号
                const addCount = () => setCount(getCount() + 1);
                return { count: getCount, addCount, toast };
            },
            // Vue3模板语法
            template: `
        <div class="container">
          <h1>数据看板</h1>
          <div class="card">
            <p>总用户数：{{ count() }}</p>
            <button @click="addCount" style="padding:6px 12px;">增加计数</button>
            <button @click="toast('看板提示')" style="margin-left:8px;">提示</button>
          </div>
        </div>
      `
        });

        // 页面加载完成后渲染组件
        window.addEventListener('DOMContentLoaded', () => {
            renderComponent('Dashboard', {}, document.querySelector('#app'));
        });
    </script>
</body>

</html>